# TODO: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Alembic –º–∏–≥—Ä–∞—Ü–∏–π

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ

- [x] Docker: migration-runner-\* —Å–µ—Ä–≤–∏—Å—ã –≤ docker-compose.override.stage6.yml
- [x] Makefile: —Ü–µ–ª–∏ mig-\* —Å –∑–∞—â–∏—Ç–æ–π –æ—Ç –ø—É—Å—Ç–æ–≥–æ SERVICE
- [x] GitHub Actions: workflow –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –º–∏–≥—Ä–∞—Ü–∏–π
- [x] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: MIGRATIONS.md —Å –ø–æ–ª–Ω—ã–º –≥–∞–π–¥–æ–º
- [x] README.md: —Ä–∞–∑–¥–µ–ª "–†–∞–±–æ—Ç–∞ —Å –º–∏–≥—Ä–∞—Ü–∏—è–º–∏" —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏

## üìã –ò–Ω–≤–µ–Ω—Ç–∞—Ä–∏–∑–∞—Ü–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –º–∏–≥—Ä–∞—Ü–∏–π

- [ ] **billing-service**: –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ alembic.ini –∏ migrations/
- [ ] **calc-service**: –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ alembic.ini –∏ migrations/
- [ ] **doc-service**: –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ alembic.ini –∏ migrations/
- [ ] **embedding-api**: –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ alembic.ini –∏ migrations/
- [ ] **etl-service**: –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ alembic.ini –∏ migrations/
- [ ] **risk-engine**: –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ alembic.ini –∏ migrations/

## üèóÔ∏è –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏—Ö –º–∏–≥—Ä–∞—Ü–∏–π

- [ ] –°–æ–∑–¥–∞—Ç—å alembic init –¥–ª—è —Å–µ—Ä–≤–∏—Å–æ–≤ –±–µ–∑ –º–∏–≥—Ä–∞—Ü–∏–π
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å database URL –≤ alembic.ini –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å migrations/env.py –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –º–æ–¥–µ–ª—è–º

## üìè Naming Conventions

- [ ] –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –µ–¥–∏–Ω—ã–µ —Å–æ–≥–ª–∞—à–µ–Ω–∏—è –ø–æ –∏–º–µ–Ω–æ–≤–∞–Ω–∏—é –º–∏–≥—Ä–∞—Ü–∏–π:
  - `YYYY_MM_DD_HHMM_descriptive_name.py`
  - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—é: `alembic revision --autogenerate -m "–æ–ø–∏—Å–∞–Ω–∏–µ"`
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ MIGRATIONS.md –ø—Ä–∞–≤–∏–ª–∞ –∏–º–µ–Ω–æ–≤–∞–Ω–∏—è

## üéØ Baseline –¥–ª—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –ë–î

- [ ] –°–æ–∑–¥–∞—Ç—å baseline –º–∏–≥—Ä–∞—Ü–∏–∏ –¥–ª—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö production —Ç–∞–±–ª–∏—Ü
- [ ] Stamp existing databases –∫–∞–∫ —Å–æ–¥–µ—Ä–∂–∞—â–∏–µ baseline —Ä–µ–≤–∏–∑–∏–∏
- [ ] –ó–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ü–µ–¥—É—Ä—É baseline –≤ MIGRATIONS.md

## üîÑ CI/CD –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

- [x] GitHub Actions workflow –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –º–∏–≥—Ä–∞—Ü–∏–π
- [ ] –î–æ–±–∞–≤–∏—Ç—å migration runners –≤ production deployment pipeline
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø—Ä–∏ –Ω–µ—É–¥–∞—á–Ω—ã—Ö –º–∏–≥—Ä–∞—Ü–∏—è—Ö –≤ CI
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ –º–∏–≥—Ä–∞—Ü–∏–π (–Ω–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É—é—â–∏—Ö heads)

## üöÄ Production deployment

- [ ] –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ—Ü–µ–¥—É—Ä—É –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –º–∏–≥—Ä–∞—Ü–∏–π –≤ production:
  - [ ] Pre-flight checks (backup, dry-run)
  - [ ] Maintenance mode
  - [ ] Migration execution
  - [ ] Rollback procedure
  - [ ] Health checks
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ backups –ø–µ—Ä–µ–¥ –º–∏–≥—Ä–∞—Ü–∏—è–º–∏
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å emergency rollback –ø—Ä–æ—Ü–µ–¥—É—Ä—É

## üîç –†–µ–≤—å—é –ø—Ä–æ—Ü–µ—Å—Å

- [ ] –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∫–æ–¥-—Ä–µ–≤—å—é –¥–ª—è –≤—Å–µ—Ö –º–∏–≥—Ä–∞—Ü–∏–π:
  - [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –±–ª–æ–∫–∏—Ä—É—é—â–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
  - [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –∏–Ω–¥–µ–∫—Å–æ–≤
  - [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ rollback-–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
  - [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ data loss —Ä–∏—Å–∫–∏
- [ ] –°–æ–∑–¥–∞—Ç—å checklist –¥–ª—è —Ä–µ–≤—å—é–≤–µ—Ä–æ–≤ –º–∏–≥—Ä–∞—Ü–∏–π
- [ ] –î–æ–±–∞–≤–∏—Ç—å pre-commit hooks –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –º–∏–≥—Ä–∞—Ü–∏–π

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –º–∏–≥—Ä–∞—Ü–∏–π
- [ ] –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç—Ä–∏–∫–∏ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –º–∏–≥—Ä–∞—Ü–∏–π
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–ª–µ—Ä—Ç—ã –ø—Ä–∏ –Ω–µ—É–¥–∞—á–Ω—ã—Ö –º–∏–≥—Ä–∞—Ü–∏—è—Ö
- [ ] –°–æ–∑–¥–∞—Ç—å –¥–∞—à–±–æ—Ä–¥ –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –º–∏–≥—Ä–∞—Ü–∏–π

## üõ†Ô∏è –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è

- [ ] –°–æ–∑–¥–∞—Ç—å —Å–∫—Ä–∏–ø—Ç –¥–ª—è batch –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –º–∏–≥—Ä–∞—Ü–∏–π –∫–æ –≤—Å–µ–º —Å–µ—Ä–≤–∏—Å–∞–º
- [ ] –î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–∞–Ω–¥—É `make mig-status` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
- [ ] –°–æ–∑–¥–∞—Ç—å —Å–∫—Ä–∏–ø—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –º–∏–≥—Ä–∞—Ü–∏–π –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ models.py
- [ ] –î–æ–±–∞–≤–∏—Ç—å integration tests –¥–ª—è –º–∏–≥—Ä–∞—Ü–∏–π

## üìù –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [x] –û—Å–Ω–æ–≤–Ω–æ–π –≥–∞–π–¥ MIGRATIONS.md
- [x] –†–∞–∑–¥–µ–ª –≤ README.md
- [ ] Troubleshooting guide –¥–ª—è —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º
- [ ] Video tutorial –¥–ª—è –∫–æ–º–∞–Ω–¥—ã –ø–æ —Ä–∞–±–æ—Ç–µ —Å –º–∏–≥—Ä–∞—Ü–∏—è–º–∏
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ emergency procedures

## ‚ö° –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

- [ ] –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –±–æ–ª—å—à–∏—Ö –º–∏–≥—Ä–∞—Ü–∏–π
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π (–≥–¥–µ –≤–æ–∑–º–æ–∂–Ω–æ)
- [ ] –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–∑–º–µ—Ä Docker –æ–±—Ä–∞–∑–æ–≤ —Å migration runners
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –¥–ª—è CI pipeline

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –¥–ª—è migration runners
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å encrypted storage –¥–ª—è sensitive –º–∏–≥—Ä–∞—Ü–∏–π
- [ ] –î–æ–±–∞–≤–∏—Ç—å audit log –¥–ª—è –≤—Å–µ—Ö migration –æ–ø–µ—Ä–∞—Ü–∏–π
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –Ω–µ—Ç credential leakage –≤ migration logs
