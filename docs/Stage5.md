# Stage5 - ZakupAI Platform Enhancement

## ‚öñÔ∏è –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –∑–∞–∫–æ–Ω—É ‚Ññ106-VIII –∏ –ø—Ä–∏–∫–∞–∑—É ‚Ññ474

–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ ZakupAI –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –ø–æ–ª–Ω–æ–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º –∫–∞–∑–∞—Ö—Å—Ç–∞–Ω—Å–∫–æ–≥–æ –∑–∞–∫–æ–Ω–æ–¥–∞—Ç–µ–ª—å—Å—Ç–≤–∞ –æ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∑–∞–∫—É–ø–∫–∞—Ö.

### –ó–∞–∫–æ–Ω –†–ö ‚Ññ106-VIII "–û –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∑–∞–∫—É–ø–∫–∞—Ö" (–¥–µ–π—Å—Ç–≤—É—é—â–∞—è —Ä–µ–¥–∞–∫—Ü–∏—è)

#### –°—Ç–∞—Ç—å—è 1. –ò—Å–∫–ª—é—á–µ–Ω–∏—è –∏–∑ —Å—Ñ–µ—Ä—ã –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∑–∞–∫—É–ø–æ–∫, –Ω–µ –ø–æ–¥–ø–∞–¥–∞—é—â–∏–µ –ø–æ–¥ –¥–µ–π—Å—Ç–≤–∏–µ –∑–∞–∫–æ–Ω–∞:

- **–¢—Ä—É–¥–æ–≤—ã–µ –¥–æ–≥–æ–≤–æ—Ä—ã** (`labor_contracts`) - —É—Å–ª—É–≥–∏ –ø–æ —Ç—Ä—É–¥–æ–≤—ã–º –¥–æ–≥–æ–≤–æ—Ä–∞–º
- **–§–∏–∑–∏—á–µ—Å–∫–∏–µ –ª–∏—Ü–∞ –±–µ–∑ –ò–ü** (`non_entrepreneur_services`) - —É—Å–ª—É–≥–∏ —Ñ–∏–∑–ª–∏—Ü –±–µ–∑ –ò–ü —Å—Ç–∞—Ç—É—Å–∞
- **–í–æ–µ–Ω–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã/—Ä–∞–±–æ—Ç—ã** (`military_goods`) - –≤–æ–µ–Ω–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã, —Ä–∞–±–æ—Ç—ã –∏ —É—Å–ª—É–≥–∏
- **–ú–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç—ã** (`international_projects`) - –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏ –æ—Ç –∑–∞—Ä—É–±–µ–∂–Ω—ã—Ö –±–∞–Ω–∫–æ–≤/–æ—Ä–≥–∞–Ω–æ–≤
- **–ù–∞—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ö–æ–ª–¥–∏–Ω–≥–∏** (`national_holdings`) - –∑–∞–∫—É–ø–∫–∏ —Ö–æ–ª–¥–∏–Ω–≥–æ–≤, –ù–∞—Ü–±–∞–Ω–∫–∞ –∏ —Ç.–¥.

#### –°—Ç–∞—Ç—å—è 7. –ê—Ñ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ—Å—Ç—å (–∑–∞–ø—Ä–µ—Ç —É—Å–∏–ª–µ–Ω)

- `AFFIL_CHECK_ENABLED = True` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∞—Ñ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ—Å—Ç–∏ –≤–∫–ª—é—á–µ–Ω–∞
- `AFFIL_BAN_IN_SINGLE_SOURCE = True` - –∑–∞–ø—Ä–µ—Ç –∞—Ñ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ—Å—Ç–∏ –≤ –ø—Ä—è–º—ã—Ö –¥–æ–≥–æ–≤–æ—Ä–∞—Ö

#### –°—Ç–∞—Ç—å—è 8. –†–µ–µ—Å—Ç—Ä –Ω–µ–¥–æ–±—Ä–æ—Å–æ–≤–µ—Å—Ç–Ω—ã—Ö –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤ (–æ–±–Ω–æ–≤–ª–µ–Ω–æ 15.09.2025)

- `REESTR_NEDOBRO_ENABLED = True` - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–µ—Å—Ç—Ä–∞ –∞–∫—Ç–∏–≤–Ω–∞
- –°—Ä–æ–∫ –∏—Å–∫–ª—é—á–µ–Ω–∏—è: 24 –º–µ—Å—è—Ü–∞
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö –ú–§ –†–ö

#### –°—Ç–∞—Ç—å—è 13. –ê–Ω—Ç–∏–¥–µ–º–ø–∏–Ω–≥

- `ANTI_DEMPING_THRESHOLD = 0.15` - —Å–Ω–∏–∂–µ–Ω–∏–µ —Ü–µ–Ω—ã –±–æ–ª–µ–µ —á–µ–º –Ω–∞ 15%
- –¢—Ä–µ–±—É–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è –¥–æ–≥–æ–≤–æ—Ä–∞
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤—ã—è–≤–ª–µ–Ω–∏–µ –¥–µ–º–ø–∏–Ω–≥–æ–≤—ã—Ö –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π

#### –°—Ç–∞—Ç—å—è 25. –ñ–∞–ª–æ–±—ã –∏ —Å–ø–æ—Ä—ã (–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–µ–Ω—Ç—è–±—Ä—è 2025)

- `COMPLAINT_DEADLINE_DAYS = 3` - –ø–æ–¥–∞—á–∞ –∂–∞–ª–æ–± –≤ —Ç–µ—á–µ–Ω–∏–µ 3 –¥–Ω–µ–π
- –í–≤–µ–¥–µ–Ω–∞ –ø—Ä–æ—Ü–µ–¥—É—Ä–∞ pre-court —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏—è
- –≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞—è –ø–æ–¥–∞—á–∞ —á–µ—Ä–µ–∑ –ø–ª–∞—Ç—Ñ–æ—Ä–º—É

### –ü—Ä–∏–∫–∞–∑ –ú–§ –†–ö ‚Ññ474 –æ—Ç 15.09.2025

#### –ó–∞–∫—É–ø–∫–∏ "–∏–∑ –æ–¥–Ω–æ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞"

- `SINGLE_SOURCE_ENABLED = True` - —Ä–µ–∂–∏–º –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω
- `SINGLE_SOURCE_LIST` –≤–∫–ª—é—á–∞–µ—Ç:
  - `bank_deposits` - –±–∞–Ω–∫–æ–≤—Å–∫–∏–µ –¥–µ–ø–æ–∑–∏—Ç—ã
  - `credit_ratings` - —É—Å–ª—É–≥–∏ –∫—Ä–µ–¥–∏—Ç–Ω—ã—Ö —Ä–µ–π—Ç–∏–Ω–≥–æ–≤
  - `scientific_research` - –Ω–∞—É—á–Ω—ã–µ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è
  - `national_bank_services` - —É—Å–ª—É–≥–∏ –ù–∞—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –±–∞–Ω–∫–∞

#### –†–µ–π—Ç–∏–Ω–≥–æ–≤—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

- `RATING_AGENCY_THRESHOLD = "A-"` - –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ä–µ–π—Ç–∏–Ω–≥ S&P –∏–ª–∏ –∞–Ω–∞–ª–æ–≥
- –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–ª—è –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–æ–Ω–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤ —Å–≤—ã—à–µ 1 –º–ª—Ä–¥ —Ç–µ–Ω–≥–µ

### –ù–æ–≤—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è (—Å–µ–Ω—Ç—è–±—Ä—å 2025)

#### –û—Ç–º–µ–Ω–∞ –ø—Ä–æ—Ü–µ–¥—É—Ä –∑–∞–∫—É–ø–æ–∫

- `CANCEL_PROCEDURE_DAYS = 5` - —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ–± –æ—Ç–º–µ–Ω–µ/–æ—Ç–∫–∞–∑–µ –∑–∞ 5 –¥–Ω–µ–π
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Ç 07.09.2025
- –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –æ–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ –≤ –ø–∏—Å—å–º–µ–Ω–Ω–æ–π —Ñ–æ—Ä–º–µ

#### –ö–æ–Ω–∫—É—Ä—Å—ã "–ø–æ–¥ –∫–ª—é—á"

- `TURNKEY_CONTEST_ENABLED = True` - –Ω–æ–≤—ã–π —Ç–∏–ø –∫–æ–Ω–∫—É—Ä—Å–æ–≤
- –ü—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –¥–ª—è —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–∞ –∏ –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤
- –£–ø—Ä–æ—â–µ–Ω–Ω–∞—è –ø—Ä–æ—Ü–µ–¥—É—Ä–∞ –æ—Ü–µ–Ω–∫–∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π

## üìä –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

### –ú–æ–¥—É–ª—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è (ComplianceSettings)

```python
from zakupai_common.compliance import ComplianceSettings

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–π
if lot_type in ComplianceSettings.EXCLUDED_PROCUREMENTS:
    skip_processing()

# –ê–Ω—Ç–∏–¥–µ–º–ø–∏–Ω–≥
if price_reduction > ComplianceSettings.ANTI_DEMPING_THRESHOLD:
    require_additional_security()

# –†–µ–µ—Å—Ç—Ä –Ω–µ–¥–æ–±—Ä–æ—Å–æ–≤–µ—Å—Ç–Ω—ã—Ö
if ComplianceSettings.REESTR_NEDOBRO_ENABLED:
    check_blacklist(supplier_bin)
```

### –ê—É–¥–∏—Ç –ò–ò/ML —Ä–µ—à–µ–Ω–∏–π

–í—Å–µ —Ä–µ—à–µ–Ω–∏—è –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç–∞ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –¥–ª—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç–∏:

```python
from zakupai_common.audit import AuditLogger

audit = AuditLogger(retention_days=1095)  # 3 –≥–æ–¥–∞ —Ö—Ä–∞–Ω–µ–Ω–∏—è
audit.log_request("risk-engine", input_data, output_data)
```

### –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

- **Loki** –¥–ª—è —Å–±–æ—Ä–∞ –ª–æ–≥–æ–≤ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
- –ú–µ—Ç–∫–∏ `procurement_type` –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –ø–æ —Ç–∏–ø–∞–º –∑–∞–∫—É–ø–æ–∫
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–æ—Ç–∞—Ü–∏—è –∏ –∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–∏–µ

### API Fallback Policy

–û–±–µ—Å–ø–µ—á–µ–Ω–∏–µ –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ—Å—Ç–∏ —Ä–∞–±–æ—Ç—ã –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ goszakup.gov.kz:

- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å TTL 24 —á–∞—Å–∞
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π retry —Å —ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–π –∑–∞–¥–µ—Ä–∂–∫–æ–π
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ audit trail

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ

### –•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

- Audit logs: 3 –≥–æ–¥–∞ (1095 –¥–Ω–µ–π)
- Procurement data: —Å–æ–≥–ª–∞—Å–Ω–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º –ú–§ –†–ö
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–æ—Ç–∞—Ü–∏—è –∏ –∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

- –†–µ–µ—Å—Ç—Ä –Ω–µ–¥–æ–±—Ä–æ—Å–æ–≤–µ—Å—Ç–Ω—ã—Ö –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤ –ú–§ –†–ö
- API goszakup.gov.kz —Å fallback –º–µ—Ö–∞–Ω–∏–∑–º–∞–º–∏
- –°–∏—Å—Ç–µ–º–∞ —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã—Ö –∂–∞–ª–æ–±

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è

- Real-time –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤—Å–µ—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
- Automated compliance reports
- Integration —Å —Å–∏—Å—Ç–µ–º–∞–º–∏ –ú–§ –†–ö

## üìà –ú–µ—Ç—Ä–∏–∫–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è

- –î–æ–ª—è –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∏—Å–∫–ª—é—á–µ–Ω–∏–π –ø–æ —Å—Ç.1
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤—ã—è–≤–ª–µ–Ω–Ω—ã—Ö –¥–µ–º–ø–∏–Ω–≥–æ–≤—ã—Ö –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π
- –í—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∂–∞–ª–æ–± (target: \<3 –¥–Ω–µ–π)
- –ü—Ä–æ—Ü–µ–Ω—Ç —É—Å–ø–µ—à–Ω—ã—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫ —Ä–µ–µ—Å—Ç—Ä–∞ –Ω–µ–¥–æ–±—Ä–æ—Å–æ–≤–µ—Å—Ç–Ω—ã—Ö

______________________________________________________________________

*–î–æ–∫—É–º–µ–Ω—Ç –∞–∫—Ç—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏ –æ—Ç —Å–µ–Ω—Ç—è–±—Ä—è 2025 –≥–æ–¥–∞*
