0. –ë–∞–∑–æ–≤–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (–°–ø—Ä–∏–Ω—Ç 0)

\[x\] Docker Compose: db, calc-service, risk-engine, doc-service, embedding-api, billing-service
\[x\] Health-check /health, –∑–∞—â–∏—â—ë–Ω–Ω—ã–π /info (X-API-Key)
\[x\] CI: lint + build (GitHub Actions)
\[x\] Makefile: make up/down/logs/test (+ smoke-\*)
\[x\] –õ–æ–≥–∏ JSON + –∫–æ—Ä–µ–ª—è—Ü–∏—è X-Request-Id –≤–æ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–∞—Ö
\[x\] –°–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞ scripts/bootstrap.sh
\[x\] –£–¥–∞–ª–∏—Ç—å version: –∏–∑ docker-compose.yml (warning compose)
\[x\] Reverse-proxy (nginx gateway) + rate limits (429) + prefix stripping
\[x\] Pre-commit —Ö—É–∫–∏ (ruff/black/isort, yamllint, mdformat, bandit)

1. –î–∞–Ω–Ω—ã–µ –∏ —Å—Ö–µ–º–∞ –ë–î

\[x\] –¢–∞–±–ª–∏—Ü–∞ lots(id, title, price) (–º–∏–≥—Ä–∞—Ü–∏—è V1)
\[x\] –ú–∏–≥—Ä–∞—Ü–∏—è V2: lots(risk_score numeric, deadline date, customer_bin text, plan_id text)
\[x\] –¢–∞–±–ª–∏—Ü—ã: suppliers(bin, name), prices(source, sku, price), lot_prices(lot_id, price_id, qty)
\[x\] –ò–Ω–¥–µ–∫—Å—ã –ø–æ customer_bin, deadline
\[x\] –ò–Ω–¥–µ–∫—Å—ã: prices(sku), prices(captured_at)
\[x\] –ò–Ω–¥–µ–∫—Å—ã: risk_evaluations(lot_id, created_at DESC)
\[x\] FK –ø–æ–ª–∏—Ç–∏–∫–∞: CASCADE –¥–ª—è lot_prices.(lot_id, price_id)
\[x\] Seeding: scripts/seed.sql + scripts/seed.sh
\[x\] Alembic –º–∏–≥—Ä–∞—Ü–∏–∏ (–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è, –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è)

2. –°–µ—Ä–≤–∏—Å—ã (FastAPI)

\[x\] calc-service: /calc/vat, /calc/margin, /calc/penalty + –∑–∞–ø–∏—Å—å –≤ finance_calcs
\[x\] risk-engine: /risk/score, /risk/explain/{lot_id} + –∑–∞–ø–∏—Å—å –≤ risk_evaluations
\[x\] doc-service: /tldr, /letters/generate, /render/html
\[x\] doc-service: —ç–∫—Å–ø–æ—Ä—Ç HTML‚ÜíPDF (/render/pdf)
\[x\] embedding-api: /embed, /index, /search
\[x\] doc-service: –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è ru-KZ
\[x\] Pytest + curl-–ø—Ä–∏–º–µ—Ä—ã –¥–ª—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤

3. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ (n8n / Flowise)

\[x\] –ù–∞—Å—Ç—Ä–æ–µ–Ω–∞ —Å–≤—è–∑–Ω–æ—Å—Ç—å: Flowise/n8n ‚Üí zakupai —Å–µ—Ä–≤–∏—Å—ã (docker networks)
\[x\] n8n-nodes: goszakup-rk
\[x\] n8n-nodes: price-aggregator
\[x\] n8n-nodes: tender-finance-calc
\[x\] n8n-nodes: lot-risk-scoring
\[x\] n8n-nodes: doc-builder
\[x\] flowise-tools: lot-reader
\[x\] flowise-tools: risk-explain
\[x\] flowise-tools: finance-calc
\[x\] flowise-tools: template-gen

4. –ö–ª–∏–µ–Ω—Ç—Å–∫–∏–µ –ø–æ—Ç–æ–∫–∏

\[x\] Telegram: /start + API Key
\[x\] Telegram: /lot \<id|url> ‚Üí TL;DR ‚Üí —Ä–∏—Å–∫ ‚Üí —Ñ–∏–Ω–∫–∞–ª—å–∫ ‚Üí ¬´–î–æ–∫—É–º–µ–Ω—Ç—ã¬ª
\[x\] Telegram: —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è ¬´–≥–æ—Ä—è—á–∏–µ –ª–æ—Ç—ã¬ª (cron)
\[x\] –í–µ–±-–ø–∞–Ω–µ–ª—å: —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –ª–æ—Ç–∞ + —Ñ–æ—Ä–º–∞ –∞–ø–ª–æ–∞–¥–∞ –ø—Ä–∞–π—Å–æ–≤ (CSV/XLSX)

5. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –¥–æ—Å—Ç—É–ø

\[x\] –ï–¥–∏–Ω—ã–π X-API-Key (+ /info)
\[x\] Rate limits –Ω–∞ –≤–Ω–µ—à–Ω–∏—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞—Ö (nginx gateway ‚Üí 429)
\[x\] –ê—É–¥–∏—Ç-–ª–æ–≥–∏ –≤—ã–∑–æ–≤–æ–≤
\[x\] CORS/CSRF –ø–æ–ª–∏—Ç–∏–∫–∞ –¥–ª—è –≤–µ–±-–ø–∞–Ω–µ–ª–∏
\[x\] SAST: Bandit –≤ pre-commit/CI
\[x\] –í–∞–ª–∏–¥–∞—Ü–∏—è –∏ —Å–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏—è –≤—Å–µ—Ö –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (FastAPI deps) –¥–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç –∏–Ω—ä–µ–∫—Ü–∏–π

6. DevOps / —ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏—è1

\[x\] Smoke –¥–ª—è calc/risk/doc/emb (—Å–∫—Ä–∏–ø—Ç + Makefile)
\[x\] –í–∫–ª—é—á–∏—Ç—å smoke-–º–∞—Ç—Ä–∏—Ü—É –≤ CI –ø–æ –≤—Å–µ–º —Å–µ—Ä–≤–∏—Å–∞–º
\[x\] Envs: .env.dev, .env.stage, .env.prod
\[x\] –ë—ç–∫–∞–ø—ã –ë–î (pg_dump + rclone –≤ –æ–±–ª–∞–∫–æ)
\[x\] Prometheus + Grafana, –∞–ª–µ—Ä—Ç—ã
\[x\] Docker-—Ç–µ–≥–∏ —Ä–µ–ª–∏–∑–æ–≤, compose pull && up -d

7. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

\[x\] OpenAPI: /docs, /openapi.json
\[x\] README.md: –∑–∞–ø—É—Å–∫, –ø–æ—Ä—Ç—ã, curl (–±–∞–∑–æ–≤–æ)
\[x\] CHANGELOG.md
\[x\] docs/architecture.md

8. –ë–∏–∑–Ω–µ—Å/—é—Ä–∏–¥–∏—á–µ—Å–∫–æ–µ

\[ \] –°–≤–µ—Ä–∫–∞ ¬´—Å–µ—Ä–≤–∏—Å—ã/–±–æ–ª–∏¬ª —Å –±—ç–∫–ª–æ–≥–æ–º
\[ \] –í–∏–¥—ã –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏/–û–ö–≠–î –¥–ª—è –¢–û–û (Astana Hub)
\[ \] –í—ã–∂–∏–º–∫–∞ –±–∏–∑–Ω–µ—Å-–ø–ª–∞–Ω–∞ ‚Üí –ª–µ–Ω–¥–∏–Ω–≥/–ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—è

9. Billing Service (MVP)

\[x\] billing-service: POST /billing/create_key, /validate_key, /usage
\[x\] PostgreSQL billing —Å—Ö–µ–º–∞: users, api_keys, usage, payments
\[x\] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å docker-compose + gateway dependency
\[x\] –õ–∏–º–∏—Ç—ã Free/Premium + –≤–∞–ª–∏–¥–∞—Ü–∏—è –∫–ª—é—á–µ–π
\[x\] Unit —Ç–µ—Å—Ç—ã billing-service
\[x\] README.md: –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Billing Service

10. –¢–µ—Å—Ç-–∫–µ–π—Å—ã (—Å–∫–≤–æ–∑–Ω—è–∫)

\[x\] –ò–º–ø–æ—Ä—Ç CSV/XLSX —Ü–µ–Ω ‚Üí prices
\[x\] –°–æ–∑–¥–∞—Ç—å –ª–æ—Ç ‚Üí —Å–æ–ø–æ—Å—Ç–∞–≤–∏—Ç—å SKU ‚Üí —Ä–∞—Å—Å—á–∏—Ç–∞—Ç—å –º–∞—Ä–∂—É (calc-service)
\[x\] –†–∏—Å–∫-—Å–∫–æ—Ä–∏–Ω–≥ ‚Üí —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ risk_evaluations (risk-engine)
\[x\] –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–∏—Å—å–º–æ (doc-service)

11. Telegram Bot ‚Äî —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥ (—Å–º. test-plan.md)

\[x\] –ë–∞–∑–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã: /start, /help, /key
\[x\] –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã: /lot, /search
\[x\] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Billing Service
\[x\] –ü–æ–ª–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è ‚Üí –ø–æ–∏—Å–∫ ‚Üí –∞–Ω–∞–ª–∏–∑)
\[x\] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ webhook –∏ polling —Ä–µ–∂–∏–º–æ–≤
\[x\] –í–∞–ª–∏–¥–∞—Ü–∏—è rate limiting –∏ error handling

______________________________________________________________________

# ROADMAP: –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ ZakupAI (Goszakup v2/v3 + AI)

## üîß –≠—Ç–∞–ø 1. –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –±–∞–∑–∞ (1‚Äì2 –º–µ—Å.)

### API –∏ –∫–æ–Ω–Ω–µ–∫—Ç–æ—Ä—ã

- [ ] –†–∞–∑–æ–±—Ä–∞—Ç—å API v2/v3 + GraphQL (Lots, TrdBuy, Contract, Rnu, Subjects)
- [ ] –°–¥–µ–ª–∞—Ç—å —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –∫–æ–Ω–Ω–µ–∫—Ç–æ—Ä —Å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–º –≤—ã–±–æ—Ä–æ–º API
- [ ] –î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –≤–ª–æ–∂–µ–Ω–∏–π (PDF + OCR + ChromaDB)
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Ö—Ä–∞–Ω–∏–ª–∏—â–µ (PostgreSQL + ChromaDB)

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

- [ ] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å n8n (cron –ø–æ–∏—Å–∫ + —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è)
- [ ] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å Flowise (TL;DR —à–∞–±–ª–æ–Ω—ã + –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥—Å—Ç–∞–≤)

______________________________________________________________________

## üìä –≠—Ç–∞–ø 2. –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ —Å–µ—Ä–≤–∏—Å—ã (2‚Äì3 –º–µ—Å.)

### –ê–Ω–∞–ª–∏–∑ –∏ –ø—Ä–æ–≤–µ—Ä–∫–∏

- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤ (Rnu + Subjects)
- [ ] –ê–Ω–∞–ª–∏–∑ —Ä–µ–Ω—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç–∏ (API Alibaba/1688 + ROI —Ä–∞—Å—á—ë—Ç)
- [ ] –ê–Ω–∞–ª–∏–∑ —Ä–∏—Å–∫–æ–≤ (–ø–æ–¥—Å—Ç–∞–≤–Ω—ã–µ –ª–æ—Ç—ã + —Ä–µ–π—Ç–∏–Ω–≥)

### –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è

- [ ] –ê–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ (–∑–∞—è–≤–∫–∏, –∂–∞–ª–æ–±—ã, –≥–∞—Ä–∞–Ω—Ç–∏–π–Ω—ã–µ –ø–∏—Å—å–º–∞)
- [ ] –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤ (–∏—Å—Ç–æ—Ä–∏—è + –¥–µ–º–ø–∏–Ω–≥)

______________________________________________________________________

## üñ•Ô∏è –≠—Ç–∞–ø 3. –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ (1‚Äì2 –º–µ—Å.)

### –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã

- [ ] –£–ª—É—á—à–µ–Ω–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (Telegram-–±–æ—Ç + email + –≤–µ–±-–¥–∞—à–±–æ—Ä–¥)
- [ ] –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∞–ª–µ—Ä—Ç—ã (ROI > 20% + —Ä–∏—Å–∫ –ø–æ–¥—Å—Ç–∞–≤ + —Ñ–∏–ª—å—Ç—Ä—ã)

### –í–Ω–µ—à–Ω–∏–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ (Alibaba/1688 + —é—Ä–∏–¥–∏—á–µ—Å–∫–∏–µ —à–∞–±–ª–æ–Ω—ã + –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ–ª–≥–æ–≤)

### –§–∏–Ω–∞–ª–∏–∑–∞—Ü–∏—è

- [ ] –§–∏–Ω–∞–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å (–Ω–∞–≥—Ä—É–∑–æ—á–Ω—ã–µ —Ç–µ—Å—Ç—ã + rate limits)
- [ ] –ó–∞–ø—É—Å–∫ –ø–∏–ª–æ—Ç–∞ —Å —Ñ–æ–∫—É—Å-–≥—Ä—É–ø–ø–æ–π (10-20 –∫–æ–º–ø–∞–Ω–∏–π)
